<% layout('../layouts/layout') %>

<div ng-app="demoApp" ng-controller="demoCtrl" ng-init="setCurrCode('<%= option %>')">

    <div class="row">
        <div class="col-sm-6">
            <h3>Graph</h3>
            <canvas id="demoPie" width="400" height="400"></canvas>
            <script>
                var demoPieData = {
                    datasets: [{
                        data: [],
                        backgroundColor:[]
                    }],
                    labels: []
                };
                var myPieChart = new Chart("demoPie",{
                    type: 'pie',
                    data: demoPieData,
                    options: Chart.defaults.pie
                });
            </script>
            
        </div>
        <div class="col-sm-6">
            <h3>Data</h3>
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Entry</th>
                            <th># of Votes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="kvp in tabularResults | orderBy:'-n'">
                            <td>{{ kvp.e }}</td>
                            <td>{{ kvp.n }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</div>

<script src="/public/js/demoNg.js"></script>